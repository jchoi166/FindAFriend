<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/css/materialize.min.css'>
</head>
<body>
    <h1>Survey Questions</h1> 

    <div class="row">
        <form class="col s12">
          <div class="row">
            <div class="input-field col s6">
              <input id="first_name" type="text" class="validate">
              <label for="first_name" placeholder= "first name"></label>
            </div>
            <div class="input-field col s6">
              <input id="last_name" type="text" class="validate">
              <label for="last_name" placeholder= "last name"></label>
            </div>
          </div>
          <button class="btn waves-effect waves-light" type="submit" name="action" id= "submit">Submit
            <i class="material-icons right">send</i>
          </button>
                
        </form>
    </div>
    <a href="/">go back home...</a>
    <script>
        document.querySelector("#submit").addEventListener("click", function(event){
            event.preventDefault()
            console.log("working!")
            fetch("/api/friends",
            {
                method: 'POST',
                headers: { 'Content-Type': 'application/json; charset=utf-8' },
                body: JSON.stringify({
                firstName: document.querySelector('#first_name').value,
                lastName: document.querySelector('#last_name').value,               
                })
            }, 
            function(){
                
            })

            .then(r => {console.log(r)})
            .catch(e => {console.error(e)})
        })
    </script>
</body>
</html>